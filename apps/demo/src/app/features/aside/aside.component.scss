@import '../../../assets/styles/index.scss';

:host {
  top: 0;
  height: 90vh;
  z-index: 1000;
}

.sidebar-menu {
  font-family: 'Nunito';
  background-color: #2e3243;
  color: $sidebarTextColor;
  padding: 0 rem(30) rem(30) rem(30);
  margin: 0;
  height: 100vh;
  overflow-y: auto;
  border-radius: rem(20);

  #overview {
    margin-top: 30px;
  }

  ::-webkit-scrollbar {
    width: 0;
    background: transparent;
  }

  -ms-overflow-style: none;
  scrollbar-width: none;
  a {
    text-decoration: none;
    color: $lightColor;
  }

  > h2 {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-inline-end: rem(10);
    text-align: center;
    margin-bottom: 0;
    margin-top: rem(10);
    cursor: pointer;

    .toggle-arrow {
      display: inline-block;
      width: rem(8);
      height: rem(8);
      border: solid white;
      border-width: 0 2px 2px 0;
      padding: rem(3);
      transform: rotate(45deg);
      transition: transform 0.3s ease;
    }

    .toggle-arrow.rotate {
      transform: rotate(-135deg);
    }
  }
  ul {
    transition:
      max-height 0.3s ease,
      opacity 0.3s ease;
    overflow: hidden;
    max-height: 0;
    opacity: 0;
    display: none;

    &.expanded {
      max-height: 900px;
      opacity: 1;
      display: block;
    }
  }
  > ul {
    border-block-end: 1px solid fade($lightColor, 20);
    padding-block-end: rem(30);
    margin-block-end: rem(30);
    list-style: none;
    padding: rem(10) 0 rem(5) rem(10);

    &:last-child {
      border: none;
      padding-block-end: 0;
      margin-block-end: 0;
    }

    li {
      margin: 0;
      vertical-align: baseline;
      box-sizing: border-box;
      width: 85%;

      a {
        inline-size: 100%;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding-block: rem(15);
        padding-inline: rem(10);
        border-radius: rem(5);
        overflow: hidden;
        cursor: pointer;
        background-color: transparent;
        border: none;
        color: white;
        font-size: large;

        &::before {
          content: '';
          position: absolute;
          inset-block-start: 0;
          inset-inline-start: 0;
          inline-size: 0;
          block-size: 100%;
          background-color: $primaryColor;
          pointer-events: none;
        }

        &[aria-current='true'],
        &:hover,
        &:focus,
        &:focus-visible {
          background-color: fade(darken($darkColor, 100), 30);
          color: contrast(
            fade(darken($darkColor, 100), 30),
            $lightColor,
            $darkColor
          );

          &::before {
            inline-size: rem(5);
          }
        }

        &:hover,
        &:focus,
        &:focus-visible {
          transition:
            background-color $transition-in-out,
            color $transition-in-out,
            outline-offset $transition-in-out;

          &::before {
            transition: inline-size $transition-in-out;
          }
        }
      }
    }
  }
}
